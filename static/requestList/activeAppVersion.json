{
    "pipeline": [
        {
            "$match": {
                "operate": "getToken"
            }
        },
        {
            "$group": {
                "_id": {
                    "ver": "$ver",
                    "deviceType": "$deviceType",
                    "userId": "$userId"
                }
            }
        },
        {
            "$group": {
                "_id": {
                    "Ver": "$Ver",
                    "deviceType": "$deviceType"
                },
                "num": {
                    "$sum": 1
                }
            }
        },
        {
            "$sort": {
                "num": -1,
                "_id.deviceType": -1
            }
        },
        {
            "$limit": 20
        }
    ],
    "collections": "xxx"
}
